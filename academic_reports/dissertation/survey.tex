\section{Context survey}
\label{s:contextsurvey}
Placeholder - description of section\\ make things flow

\subsection{Phone sensing}
ACTIVITY RECOGNITION\\
	Google Activity recognition part of Google Play \cite{android:activityrecognition}\\
		used by Google Maps\\
		part of Google Play, which works while customer is online\\
		
	health monitoring
		\url{http://techcrunch.com/2014/03/17/apple-healthbook-ios-8/}
		too sidetracked?
			\url{http://www.hapi.com/products-hapifork.asp#non}
		

CONTEXT DETECTION\\
	INERTIAL NAVIGATION\\
		navigation usually done by GPS or Wireless communication\\
		but uses more energy and is often not precise enough(for indoor localization)\\
			(some reference to geofencing)\\
			 what Google exactly does when specified minimum distance for GPS update\\
			http://www.youtube.com/user/qualcommdev\\
		so improve its accuracy/energy consumption by inertial navigation\\
		Towards Mobile Phone Localization without War-Driving\cite{constandache:localization}\\
		GAC: Energy efficient hybrid GPS-Accelerometer-Compass GSM location\\
		Indoor\\
			growing organic..\\
			unLoc\\
			stuff from Valentin Radu\\
	
	SLAM\\

	Localization \\
		SurroundSense \cite{azizyan:surroundsense}\\

Hardware improvements\\
	Samsung Galaxy 5 -> step counter, step detector\\
	Project Tango - rich sensors, making many difficult tasks possible\cite{google:tango}\\
		\url{http://www.youtube.com/watch?feature=player_embedded&v=Qe10ExwzCqk}
CONCLUSIONS\\
	progress?\\
	Collect Big Data\\
		was already proposed Hossmann et al.\cite{hossmann:bigdatasets}\\
		something like Reality Mining \cite{eagle:realitymining}\\
		
\subsection{Energy measurement}
\hspace{10pt} To improve the energy efficiency of phone sensing, an accurate method for measuring it needs to be established. This task is relatively easy for Nokia phones. Nokia Energy Profiler \cite{nokia:profiler}, an application delivered by Nokia,  accurately measures power consumption and is widely used by research community \cite{kjaergaard:entracked} \cite{lu:jigsaw} \cite{li:status}. However, Google does not provide an equivalent application for Android smartphones, which makes the task difficult.The first subsection reviews the methods for measuring power consumption available on Android, whereas the second subsection demonstrates their results.

\subsubsection{Energy measurement methods}

\hspace{10pt} \textbf{The Power Monitor} is a hardware power meter delivered by MoonSooon PowerSolutions \cite{monsoon:powermonitor}.  It is designed for analyzing power of single lithium\ (Li) batteries (all Android phones). Although the tool provides accurate measurements, it can only be used in a lab environment e.g., it cannot measure energy consumption of GPS sampling while a user is moving outdoor. It is also expensive, and thus, it cannot be directly used by mobile phone users. To easy this problem, mobile phone vendors establish power profiles and put them on mobile phones \cite{android:powerprofiles} as the part of their manufacturing process. This information may be further utilized by software power profilers.

Software power profilers on Android smartphones use a \textbf{power model} to determine current energy consumption. They continuously query states of hardware components such as CPU, wireless card or screen. For example, wireless card may be switched off, be listening or sending information. Each state of every component has the corresponding value of its energy consumption. This value is available in power profiles provided by a mobile phone vendor as described in the previous paragraph. Software power profilers aggregate all of those values to estimate current energy consumption of a device. Applications using this method include PowerTutor \cite{zhang:powertutor} and Battery Monitor Widget \cite{googleplay:batterymonitorwidget}. Although this method provides online energy measurement and it can by used by users, those measurements are often inaccurate. With time, the power profiles, provided by vendors, can change as battery characteristics do [XXX references]. To easy this problem, PowerTutor adopts its algorithm basing on the device model. However, it only supports three mobile phones: HTC G1, HTC G2 and Nexus one. Furthermore, the power profilers are not applicable to phone sensing: power profiles are often not available for physical sensors e.g., PowerTutor does not support accelerometer.

Another approach to establish energy demands is \textbf{measuring battery life}. If a mobile device has high energy demands, its battery should deplete fast. For example, BetterBatteryStats \cite{googleplay:betterbatterystats} and Battery Stats Plus \cite{googleplay:batterystatsplus} use battery life as metrics to monitor mobile applications' energy consumptions. This idea was also utilized in research community. SenseLess \cite{benabdesslem:senseless} compares the energy efficiency of different sensors basing on how long the full battery depletion takes while only that sensor is being switched on. This approach provides the accurate approximation of a mobile's power consumption and does not require any additional hardware. Furthermore, it may be undertaken by mobile phone user and works for physical sensors. However, the measurement may be time consuming. In SenseLess, it took 170 hours to deplete the whole battery life while all sensors are being switched off. Since 2009\ (Senseless), the battery life increased and Android operating system is more energy efficient. The full battery depletion is likely to take even longer for modern mobile phones.

\textbf{TrepnProfiler} \cite{qualcomm:trepnprofiler} is a new way for measuring power consumption of a mobile phone. The tool, provided by Qualcomm, is a low level software, which runs only on SnapDragon chips, which are also provided by Qualcomm. The tool provides accurate measurements including physical sensors and may be used by mobile phone users. However, the tool is still relatively new and works only on specific hardware.

\begin{table}[H]
	\centering
    \begin{tabular}{| c | c | c | c | c | }
    \hline
    Method & The Power Monitor & Power models & Battery life & TrepnProfiler \\ \hline
    Accuracy & Good & & & \\ \hline
    Duration & & & & \\\hline
    Physical sensors & & & &\\ \hline
    Additional hardware & & & &\\ \hline
    Specific mobile phones & & & &\\ \hline
    \end{tabular}
    \caption{The comparison of energy measurement methods. Using battery life as metrics is the most suitable method for the project.}
	\label{table:energymeasurementmethods}
\end{table}
	
In this subsection, four different methods for energy measurement were reviewed. The characteristics of them are summarized in the Table \ref{table:energymeasurementmethods}. Since accurate energy measurements outside of the lab environment are needed, \textbf{measuring battery life was chosen for the project}.  To reduce experiments' time, the 1\% percentage battery depletion is proposed instead of full battery depletion. That method should be still accurate, which is further explained in Section \ref{s:design:measurements:method}. TrepnProfiler was not chosen for this project, as it is still technology under the development.

\subsubsection{Energy measurement results}
The energy efficiency of sensors has been examined before \cite{benabdesslem:senseless} \cite{constandache:localization} \cite{wang:eemss} \cite{chon:smartdc}. Regardless of used energy measurement method, those studies provide similar results e.g. the \plotref{senseless} shows the energy consumption of different sensors established in SenseLess \cite{benabdesslem:senseless}. All of the studies show that accelerometer is more energy-efficient than microphone. Microphone consumes less power than GPS and IEEE 802.11 scanning, which have lower power consumption than video camera.

\plot{senseless}

Depending on the energy measurement method which is used, studies may provide more details on energy consumption. For example, GAC \cite{youssef:gac}, which leverages the Power Monsoon device, establishes the power consumption pattern of GPS over time. Also, energy consumption of sensors may be examined depending on their parameters. SmartDC \cite{chon:smartdc} studies how power consumption of GPS and Wi-Fi scan changes, dpeneding on their sampling interval. It also explores energy demands of accelerometer depending on its duty cycling's ratio\ (sampling time over sleeping interval).

All of those studies either focus only  on few sensors (e.g. gpc, accelerometer and Wi-Fi in SmartDC \cite{chon:smartdc}) or measure sensors' power consumption only across one device \cite{benabdesslem:senseless}. To present the full picture, the project aims to provide the complete set of all sensors' energy measurements across three different devices. 
	
\subsection{Energy-efficient phone sensing}
hierarchy/temporal relations\\
	Fused Location provider\cite{android:locationapi}\\
		part of Location APIs, uses Google Play(activity recognition)\\
	EEMSS \cite{wang:eemss}\\
	senseless \cite{benabdesslem:senseless}\\
	ACE \cite{nath:ace}\\

adaptive sampling\\
	Rachuri et al. \cite{rachuri:dynamicsensing}\\
	SociableSense \cite{rachuri:socialsense} \\
	similar idea in other fields:\\
		wireless:\\
			channel sampling \cite{deshpande:channeling}\\
			refocusing \cite{deshpande:refocusing}\\
			coordinated sampling \cite{deshpande:coordinated}\\

offloading to the cloud\\
	Uploading strategies \cite{musolesi:offloading}\\
	SociableSense \cite{rachuri:socialsense} \\
	
two-tier\\
	Accurate two-tier classifier \cite{srinivasan:twotier}\\

machine learning\\
	Enloc \cite{constandache:enloc}\\
	SmartDC \cite{chon:smartdc}\\

others\\
	this checking IPC thing\\

conclusions

\subsection{Conclusions}
